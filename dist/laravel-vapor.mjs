var e=function(){};e.prototype.store=function(e,n){void 0===n&&(n={});try{var t=new FormData;return t.append("bucket",n.bucket||""),t.append("content_type",n.contentType||e.type),t.append("expires",n.expires||""),t.append("visibility",n.visibility||""),Promise.resolve(new Promise(function(e){var r=new XMLHttpRequest;for(var o in r.open("POST","/vapor/signed-storage-url"),r.onload=function(){return e(r.response)},n.headers)r.setRequestHeader(o,n.headers[o]);r.send(t)})).then(function(t){var r=JSON.parse(t),o=r.headers;return"Host"in o&&delete o.Host,Promise.resolve(new Promise(function(t){var s=new XMLHttpRequest;for(var i in s.open("PUT",r.url),s.onload=function(){return t(s.response)},s.upload.onprogress=function(e){return n.progress(Math.ceil(e.loaded/e.total*100))},o)s.setRequestHeader(i,o[i]);s.send(e)})).then(function(){return r.extension=e.name.split(".").pop(),r})})}catch(e){return Promise.reject(e)}},module.exports=new e;
//# sourceMappingURL=laravel-vapor.mjs.map
